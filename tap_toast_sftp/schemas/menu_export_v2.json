{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Menu Export V2 Schema",
  "type": ["object", "array"],
  "items": {
    "type": "object",
    "properties": {
      "menus": {
        "type": ["array", "null"],
        "items": {
          "type": "object",
          "properties": {
            "entityType": { "type": ["string", "null"] },
            "name": { "type": ["string", "null"] },
            "guid": { "type": ["string", "null"] },
            "description": { "type": ["string", "null"] },
            "idString": { "type": ["string", "null"] },
            "orderableOnline": { "type": ["string", "boolean", "null"] },
            "orderableOnlineStatus": { "type": ["string", "null"] },
            "visibility": { "type": ["string", "null"] },
            "startTime": { "type": ["integer", "null"] },
            "endTime": { "type": ["integer", "null"] },
            "startTimeHHmm": { "type": ["string", "null"] },
            "endTimeHHmm": { "type": ["string", "null"] },
            "startTimeLocalStandardTime": { "type": ["integer", "null"] },
            "endTimeLocalStandardTime": { "type": ["integer", "null"] },
            "startTimeHHmmLocalStandardTime": { "type": ["string", "null"] },
            "endTimeHHmmLocalStandardTime": { "type": ["string", "null"] },
            "availableAllTimes": { "type": ["boolean", "null"] },
            "availableAllDays": { "type": ["boolean", "null"] },
            "daysAvailableBits": { "type": ["integer", "null"] },
            "daysAvailableString": {
              "type": ["array", "null"],
              "items": {
                "type": "string"
              }
            },
            "imageLink": { "type": ["string", "null"] },
            "groups": {
              "type": ["array", "null"],
              "items": {
                "type": "object",
                "properties": {
                  "entityType": { "type": ["string", "null"] },
                  "id": { "type": ["integer", "null"] },
                  "idString": { "type": ["string", "null"] },
                  "guid": { "type": ["string", "null"] },
                  "name": { "type": ["string", "null"] },
                  "description": { "type": ["string", "null"] },
                  "imageLink": { "type": ["string", "null"] },
                  "images": {
                    "type": ["object", "null"],
                    "properties": {
                      "item": { "type": ["string", "null"] }
                    }
                  },
                  "items": {
                    "type": ["array", "null"],
                    "items": {
                      "type": "object",
                      "properties": {
                        "entityType": { "type": ["string", "null"] },
                        "name": { "type": ["string", "null"] },
                        "guid": { "type": ["string", "null"] },
                        "description": { "type": ["string", "null"] },
                        "sku": { "type": ["string", "null"] },
                        "plu": { "type": ["string", "null"] },
                        "price": { "type": ["number", "null"] },
                        "prices": {
                          "type": ["array", "null"],
                          "items": {
                            "type": "object",
                            "properties": {
                              "price": { "type": ["number", "null"] },
                              "priceLevel": { "type": ["string", "null"] }
                            }
                          }
                        },
                        "optionGroups": {
                          "type": ["array", "null"],
                          "items": {
                            "type": "object",
                            "properties": {
                              "entityType": { "type": ["string", "null"] },
                              "name": { "type": ["string", "null"] },
                              "guid": { "type": ["string", "null"] },
                              "minSelections": { "type": ["integer", "null"] },
                              "maxSelections": { "type": ["integer", "null"] },
                              "pricingMode": { "type": ["string", "null"] },
                              "items": {
                                "type": ["array", "null"],
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "entityType": { "type": ["string", "null"] },
                                    "name": { "type": ["string", "null"] },
                                    "guid": { "type": ["string", "null"] },
                                    "description": { "type": ["string", "null"] },
                                    "sku": { "type": ["string", "null"] },
                                    "plu": { "type": ["string", "null"] },
                                    "maxSelections": { "type": ["integer", "null"] },
                                    "price": { "type": ["number", "null"] },
                                    "isDefault": { "type": ["boolean", "null"] },
                                    "optionGroups": { "type": ["array", "null"] },
                                    "idString": { "type": ["string", "null"] },
                                    "itemGroupGuid": { "type": ["string", "null"] },
                                    "calories": { "type": ["number", "null"] },
                                    "orderableOnline": { "type": ["string", "boolean", "null"] }
                                  }
                                }
                              },
                              "idString": { "type": ["string", "null"] },
                              "visibility": { "type": ["string", "null"] },
                              "defaultOptionsChargePrice": { "type": ["string", "null"] },
                              "defaultOptionsSubstitutionPricing": { "type": ["string", "null"] },
                              "pricingStrategy": { "type": ["string", "null"] },
                              "pricingStrategyRules": { "type": ["string", "null"] }
                            }
                          }
                        },
                        "maxSelections": { "type": ["integer", "null"] },
                        "isDefault": { "type": ["boolean", "null"] },
                        "idString": { "type": ["string", "null"] },
                        "itemGroupGuid": { "type": ["string", "null"] },
                        "calories": { "type": ["number", "null"] },
                        "imageLink": { "type": ["string", "null"] },
                        "unitOfMeasure": { "type": ["string", "null"] },
                        "orderableOnline": { "type": ["string", "boolean", "null"] },
                        "visibility": { "type": ["string", "null"] }
                      }
                    }
                  },
                  "subgroups": {
                    "type": ["array", "null"],
                    "items": {
                      "type": "object",
                      "properties": {
                        "entityType": { "type": ["string", "null"] },
                        "name": { "type": ["string", "null"] },
                        "guid": { "type": ["string", "null"] },
                        "description": { "type": ["string", "null"] },
                        "id": { "type": ["integer", "null"] },
                        "idString": { "type": ["string", "null"] },
                        "imageLink": { "type": ["string", "null"] },
                        "items": {
                          "type": ["array", "null"],
                          "items": {
                            "type": "object",
                            "properties": {
                              "entityType": { "type": ["string", "null"] },
                              "name": { "type": ["string", "null"] },
                              "guid": { "type": ["string", "null"] },
                              "description": { "type": ["string", "null"] },
                              "sku": { "type": ["string", "null"] },
                              "plu": { "type": ["string", "null"] },
                              "price": { "type": ["number", "null"] },
                              "optionGroups": { "type": ["array", "null"] },
                              "idString": { "type": ["string", "null"] },
                              "calories": { "type": ["number", "null"] },
                              "imageLink": { "type": ["string", "null"] },
                              "unitOfMeasure": { "type": ["string", "null"] },
                              "orderableOnline": { "type": ["string", "boolean", "null"] },
                              "visibility": { "type": ["string", "null"] },
                              "maxSelections": { "type": ["integer", "null"] },
                              "isDefault": { "type": ["boolean", "null"] },
                              "itemGroupGuid": { "type": ["string", "null"] }
                            }
                          }
                        },
                        "subgroups": {
                          "type": ["array", "null"],
                          "items": {
                            "type": "object",
                            "properties": {
                              "entityType": { "type": ["string", "null"] },
                              "name": { "type": ["string", "null"] },
                              "guid": { "type": ["string", "null"] },
                              "description": { "type": ["string", "null"] },
                              "items": { "type": ["array", "null"] },
                              "subgroups": { "type": ["array", "null"] }
                            }
                          }
                        },
                        "orderableOnline": { "type": ["string", "boolean", "null"] },
                        "visibility": { "type": ["string", "null"] },
                        "images": {
                          "type": ["object", "null"],
                          "properties": {
                            "item": { "type": ["string", "null"] }
                          }
                        }
                      }
                    }
                  },
                  "orderableOnline": { "type": ["string", "boolean", "null"] },
                  "visibility": { "type": ["string", "null"] }
                }
              }
            }
          }
        },
        "description": "A JSON array of Menu objects"
      },
      "premodifierGroups": {
        "type": ["array", "null"],
        "items": {
          "type": "object",
          "properties": {
            "entityType": { "type": ["string", "null"] },
            "name": { "type": ["string", "null"] },
            "guid": { "type": ["string", "null"] },
            "description": { "type": ["string", "null"] },
            "id": { "type": ["integer", "null"] },
            "idString": { "type": ["string", "null"] },
            "items": {
              "type": ["array", "null"],
              "items": {
                "type": "object",
                "properties": {
                  "entityType": { "type": ["string", "null"] },
                  "name": { "type": ["string", "null"] },
                  "guid": { "type": ["string", "null"] },
                  "description": { "type": ["string", "null"] },
                  "sku": { "type": ["string", "null"] },
                  "plu": { "type": ["string", "null"] },
                  "maxSelections": { "type": ["integer", "null"] },
                  "price": { "type": ["number", "null"] },
                  "isDefault": { "type": ["boolean", "null"] },
                  "optionGroups": { "type": ["array", "null"] },
                  "idString": { "type": ["string", "null"] },
                  "itemGroupGuid": { "type": ["string", "null"] },
                  "calories": { "type": ["number", "null"] },
                  "orderableOnline": { "type": ["string", "boolean", "null"] }
                }
              }
            }
          }
        },
        "description": "A JSON array of PremodifierGroup objects"
      },
      "location_id": {
        "type": ["string", "null"],
        "description": "Location identifier from configuration"
      },
      "date": {
        "type": ["string", "null"],
        "description": "Date folder name from SFTP path"
      },
      "guid": {
        "type": ["string", "null"],
        "description": "Unique identifier for the menu export"
      }
    }
  },
  "properties": {
    "menus": {
      "type": ["array", "null"],
      "description": "A JSON array of Menu objects"
    },
    "premodifierGroups": {
      "type": ["array", "null"],
      "description": "A JSON array of PremodifierGroup objects"
    },
    "location_id": {
      "type": ["string", "null"],
      "description": "Location identifier from configuration"
    },
    "date": {
      "type": ["string", "null"],
      "description": "Date folder name from SFTP path"
    },
    "guid": {
      "type": ["string", "null"],
      "description": "Unique identifier for the menu export"
    }
  },
  "required": ["location_id", "date"]
}
